"use client";

import { Box, useBreakpointValue } from "@chakra-ui/react";

export default function BlobWrapper({
  children,
  size = "md",
  style,
  className,
  ...rest
}) {
  const sizeMap = {
    sm: "260px",
    md: "420px",
    lg: "480px",
    xl: "540px",
  };

  const responsiveSize = useBreakpointValue({
    base: sizeMap.sm,
    sm: sizeMap.md,
    md: sizeMap.lg,
    lg: sizeMap.xl,
  });

  return (
    <Box
      as="svg"
      viewBox="0 0 660 577"
      width={responsiveSize}
      height={responsiveSize}
      className={className}
      style={style}
      {...rest}
    >
      <defs>
        <mask id="blobMask">
          <path
            fill="white"
            d="M513.791 80.2524C576.346 123.224 639.664 174.489 655.684 237.815C671.704 301.896 641.189 377.285 596.18 436.088C551.172 494.891 491.668 537.109 426.825 558.972C361.219 581.589 289.51 583.85 229.244 560.48C168.978 536.355 120.154 487.352 75.9083 427.041C31.6623 366.73 -7.24371 296.619 1.14778 232.538C10.3021 168.457 67.5168 110.408 129.309 67.4363C191.863 24.4646 258.995 -3.42931 324.601 0.34014C389.445 3.3557 451.237 37.2807 513.791 80.2524Z"
          />
        </mask>
      </defs>
      <path
        d="M513.791 80.2524C576.346 123.224 639.664 174.489 655.684 237.815C671.704 301.896 641.189 377.285 596.18 436.088C551.172 494.891 491.668 537.109 426.825 558.972C361.219 581.589 289.51 583.85 229.244 560.48C168.978 536.355 120.154 487.352 75.9083 427.041C31.6623 366.73 -7.24371 296.619 1.14778 232.538C10.3021 168.457 67.5168 110.408 129.309 67.4363C191.863 24.4646 258.995 -3.42931 324.601 0.34014C389.445 3.3557 451.237 37.2807 513.791 80.2524Z"
        fill="#f4e0dc"
      />
      <foreignObject
        width="100%"
        height="100%"
        mask="url(#blobMask)"
        style={{ pointerEvents: "none" }}
      >
        <Box width="100%" height="100%" pointerEvents="auto">
          {children}
        </Box>
      </foreignObject>
      <path
        d="M513.791 80.2524C576.346 123.224 639.664 174.489 655.684 237.815C671.704 301.896 641.189 377.285 596.18 436.088C551.172 494.891 491.668 537.109 426.825 558.972C361.219 581.589 289.51 583.85 229.244 560.48C168.978 536.355 120.154 487.352 75.9083 427.041C31.6623 366.73 -7.24371 296.619 1.14778 232.538C10.3021 168.457 67.5168 110.408 129.309 67.4363C191.863 24.4646 258.995 -3.42931 324.601 0.34014C389.445 3.3557 451.237 37.2807 513.791 80.2524Z"
        fill="none"
        stroke="#EAC2B9"
        strokeWidth="1"
      />
    </Box>
  );
}
